Новый
+40-0
# Чеклист: добавление нового пункта меню (Web + App)

Дата: 2026-02-04

## 1) Web‑часть
### 1.1 База данных
- [ ] Определить необходимые таблицы/поля.
- [ ] Добавить миграции/DDL (создание/изменение таблиц).
- [ ] Проверить права/роли (если есть ограничение по доступу).

### 1.2 Backend (Core API)
- [ ] Добавить/обновить обработчики в `core_api.php` (экшены, валидация, ответы).
- [ ] Обновить серверную логику (модели/сервисы, если есть).
- [ ] Проверить, что `CoreAPI` возвращает корректный `status`/`message`.

### 1.3 Frontend (core_api.js + шаблон)
- [ ] Добавить/обновить обработчики в `core_api.js` (client.call/sendRequest, handlers).
- [ ] Обновить или добавить шаблон (новый экран/модалка).
- [ ] Обновить меню/навигацию (ссылки, пункты меню).
- [ ] Проверить, что в браузере без APP всё работает по JS‑flow.

## 2) APP‑часть (Native Flow)
### 2.1 Шаблоны/DOM
- [ ] Убедиться, что в шаблоне есть `device-scan-config` (если нужен flow).
- [ ] Прописать корректные `field_id`, `field_name`, `buttons`, `flow`.
- [ ] Указать `context_switch` при необходимости (табы/модалки).

### 2.2 Нативные операции (APP)
- [ ] Проверить, что все `web`/`web_callback` опции имеют нативные обработчики.
- [ ] Добавить недостающие операции в APP (WebView helpers, DOM‑клики/значения).
- [ ] Убедиться, что `CoreAPI` остаётся основным AJAX‑клиентом.

### 2.3 Проверка работы
- [ ] В APP: скан/шаги flow работают корректно.
- [ ] В APP: кнопки веб‑страницы кликаются и работают как раньше.
- [ ] В WEB: JS‑flow продолжает работать без APP.

## 3) Итоговая проверка
- [ ] Проверить логи (ошибки, дублирование выполнения).
- [ ] Обновить документацию по эксплуатации (Web vs App).
